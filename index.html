<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intergalactic Meows | Complete System</title>
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    <style>
        /* === ALL SECTION STYLES === */
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
        }

        .about-text {
            font-size: 1.2rem;
            line-height: 1.6;
        }

        .planet-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .planet {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #4a5fc1, #1a237e);
            box-shadow: 0 0 50px rgba(74, 95, 193, 0.5);
            position: relative;
            overflow: hidden;
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Tracking Section */
        .tracking-section {
            background: rgba(255, 255, 255, 0.03);
            padding: 80px 50px;
            border-radius: 20px;
            margin: 50px 0;
        }

        .tracking-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
        }

        .tracking-map {
            background: linear-gradient(45deg, #1a237e, #4a5fc1);
            border-radius: 15px;
            height: 400px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .tracking-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .tracking-stat {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(106, 130, 251, 0.3);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #6a82fb;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Sign Up Section */
        .signup-form {
            max-width: 500px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: white;
            font-size: 16px;
            transition: all 0.3s;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #6a82fb;
            background: rgba(255, 255, 255, 0.15);
        }

        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(90deg, #6a82fb, #fc5c7d);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
        }

        /* Research Section */
        .research-section {
            padding: 80px 50px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 20px;
            margin: 50px 0;
        }

        .research-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .research-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid rgba(106, 130, 251, 0.3);
            transition: all 0.3s ease;
        }

        .research-card:hover {
            transform: translateY(-10px);
            border-color: #6a82fb;
            box-shadow: 0 15px 30px rgba(106, 130, 251, 0.2);
        }

        .research-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        /* Test Section */
        .test-section {
            background: rgba(255, 255, 255, 0.03);
            padding: 60px;
            border-radius: 20px;
            margin: 50px 0;
            text-align: center;
        }

        .test-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .test-btn {
            padding: 15px 30px;
            background: linear-gradient(90deg, #ff6b6b, #ffa500);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .test-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(255, 107, 107, 0.3);
        }

        /* Education Section */
        .education-section {
            padding: 80px 50px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            margin: 50px 0;
        }

        .education-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .education-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(106, 130, 251, 0.3);
            text-align: center;
            transition: all 0.3s ease;
        }

        .education-card:hover {
            transform: translateY(-5px);
            border-color: #fc5c7d;
            box-shadow: 0 10px 25px rgba(252, 92, 125, 0.2);
        }

        .edu-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #6a82fb, #fc5c7d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .download-btn {
            padding: 10px 20px;
            background: rgba(106, 130, 251, 0.2);
            border: 1px solid #6a82fb;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 15px;
        }

        .download-btn:hover {
            background: rgba(106, 130, 251, 0.4);
            transform: translateY(-2px);
        }

        /* NASA Partnership */
        .nasa-partnership {
            background: rgba(255, 255, 255, 0.03);
            padding: 80px 50px;
            text-align: center;
            border-radius: 20px;
            margin: 50px 0;
        }

        .nasa-partnership h3 {
            font-size: 2.5rem;
            margin-bottom: 30px;
        }

        .nasa-badge {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .nasa-badge img {
            height: 80px;
            filter: brightness(0) invert(1);
        }

        /* === PREVIOUS STYLES (Meteor Menu, Solar System, etc.) === */
        .meteor-menu {
            position: fixed;
            top: 100px;
            left: 50px;
            z-index: 90;
        }

        .menu-toggle {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(15px);
            border: 2px solid #6a82fb;
            border-radius: 10px;
            width: 60px;
            height: 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .menu-toggle:hover {
            background: rgba(106, 130, 251, 0.1);
            transform: scale(1.05);
        }

        .hamburger {
            width: 25px;
            height: 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: transform 0.3s ease;
        }

        .menu-toggle.active .hamburger {
            transform: rotate(90deg);
        }

        .hamburger-line {
            height: 3px;
            background: linear-gradient(90deg, #6a82fb, #fc5c7d);
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .menu-toggle.active .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .menu-toggle.active .hamburger-line:nth-child(2) {
            opacity: 0;
        }

        .menu-toggle.active .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        .menu-content {
            position: absolute;
            top: 70px;
            left: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 20px;
            width: 350px;
            border: 2px solid #6a82fb;
            box-shadow: 0 10px 30px rgba(106, 130, 251, 0.3);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-20px);
            transition: all 0.3s ease;
            max-height: 80vh;
            overflow-y: auto;
        }

        .menu-toggle.active + .menu-content {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .menu-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
            background: linear-gradient(90deg, #6a82fb, #fc5c7d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .meteor-slots {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .meteor-slot {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(106, 130, 251, 0.3);
            border-radius: 10px;
            padding: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .meteor-slot:hover {
            background: rgba(106, 130, 251, 0.1);
            transform: translateX(5px);
            border-color: #6a82fb;
        }

        .meteor-image {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            object-fit: cover;
            background: linear-gradient(45deg, #6a82fb, #fc5c7d);
        }

        .meteor-info {
            flex: 1;
        }

        .meteor-name {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: #fff;
        }

        .meteor-date {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Solar System Viewer */
        #solarSystemViewer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 20;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease;
            background: rgba(0, 0, 0, 0.95);
        }

        #solarSystemViewer.active {
            opacity: 1;
            visibility: visible;
        }

        .solar-system-header {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            padding: 20px 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 25;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
        }

        .solar-system-title {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(90deg, #6a82fb, #fc5c7d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .close-solar-system {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            color: white;
            font-size: 16px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
            font-weight: 600;
        }

        .close-solar-system:hover {
            background: rgba(255, 0, 0, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 0, 0, 0.2);
        }

        .solar-system-container {
            position: absolute;
            top: 80px;
            left: 0;
            width: 100%;
            height: calc(100% - 80px);
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .solar-system-btn {
            padding: 15px 40px;
            background: linear-gradient(90deg, #fc5c7d, #6a82fb);
            border: none;
            border-radius: 30px;
            color: white;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s forwards 1.4s;
        }

        .solar-system-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(252, 92, 125, 0.3);
        }

        .planet-info-panel {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #6a82fb;
            width: 300px;
            max-height: 80vh;
            overflow-y: auto;
            opacity: 0;
            transform: translateX(100px);
            transition: all 0.5s ease;
            pointer-events: none;
        }

        .planet-info-panel.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: all;
        }

        .planet-info h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #fc5c7d;
            text-align: center;
        }

        .planet-detail {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .planet-detail:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .planet-detail-label {
            color: #6a82fb;
            font-weight: 500;
            display: block;
        }

        .planet-detail-value {
            color: white;
            margin-top: 5px;
        }

        .planet-hover-info {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid #6a82fb;
            color: white;
            font-size: 14px;
            pointer-events: none;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            z-index: 100;
        }

        .planet-hover-info.active {
            opacity: 1;
            transform: translateY(0);
        }

        .escape-hint {
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
            margin-right: 15px;
        }

        /* Meteor Viewer */
        #meteorViewer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 20;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease;
            background: rgba(0, 0, 0, 0.95);
        }

        #meteorViewer.active {
            opacity: 1;
            visibility: visible;
        }

        .viewer-header {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            padding: 20px 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 25;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
        }

        .viewer-title {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(90deg, #6a82fb, #fc5c7d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .close-viewer {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            color: white;
            font-size: 16px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
        }

        .close-viewer:hover {
            background: rgba(255, 0, 0, 0.3);
            transform: translateY(-2px);
        }

        .viewer-content {
            position: absolute;
            top: 80px;
            left: 0;
            width: 100%;
            height: calc(100% - 80px);
            display: flex;
        }

        .model-container {
            flex: 1;
            position: relative;
        }

        .info-panel {
            width: 400px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(20px);
            padding: 30px;
            border-left: 2px solid #6a82fb;
            overflow-y: auto;
        }

        .meteor-details h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #6a82fb;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .detail-label {
            color: #6a82fb;
            font-weight: 500;
        }

        .detail-value {
            text-align: right;
        }

        .impact-map {
            margin-top: 25px;
        }

        .map-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #fc5c7d;
        }

        .map-container {
            background: linear-gradient(45deg, #1a237e, #4a5fc1);
            border-radius: 10px;
            padding: 20px;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .impact-point {
            position: absolute;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, #ff4444, transparent);
            border-radius: 50%;
            box-shadow: 0 0 20px #ff4444;
            animation: pulse 2s infinite;
        }

        .impact-info {
            margin-top: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 68, 68, 0.3);
        }

        /* Chatbot Styles */
        .chatbot-toggler {
            position: fixed;
            bottom: 30px;
            right: 35px;
            outline: none;
            border: none;
            height: 50px;
            width: 50px;
            display: flex;
            cursor: pointer;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: #724ae8;
            transition: all 0.2s ease;
            z-index: 1000;
        }

        .chatbot {
            position: fixed;
            right: 35px;
            bottom: 90px;
            width: 420px;
            background: #fff;
            border-radius: 15px;
            overflow: hidden;
            opacity: 0;
            pointer-events: none;
            transform: scale(0.5);
            transform-origin: bottom right;
            box-shadow: 0 0 128px 0 rgba(0,0,0,0.1),
                        0 32px 64px -48px rgba(0,0,0,0.5);
            transition: all 0.1s ease;
            z-index: 1000;
        }

        body.show-chatbot .chatbot {
            opacity: 1;
            pointer-events: auto;
            transform: scale(1);
        }

        .chatbot header {
            padding: 16px 0;
            position: relative;
            text-align: center;
            color: #fff;
            background: #724ae8;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .chatbot header h2 {
            font-size: 1.4rem;
        }

        .close-btn {
            position: absolute;
            right: 15px;
            top: 50%;
            cursor: pointer;
            transform: translateY(-50%);
        }

        .chatbox {
            overflow-y: auto;
            height: 510px;
            padding: 30px 20px 100px;
            list-style: none;
        }

        .chatbox .chat {
            display: flex;
            list-style: none;
        }

        .chatbox .outgoing {
            margin: 20px 0;
            justify-content: flex-end;
        }

        .chatbox .incoming span {
            width: 32px;
            height: 32px;
            color: #fff;
            cursor: default;
            text-align: center;
            line-height: 32px;
            align-self: flex-end;
            background: #724ae8;
            border-radius: 4px;
            margin: 0 10px 7px 0;
        }

        .chatbox .chat p {
            white-space: pre-wrap;
            padding: 12px 16px;
            border-radius: 10px 10px 0 10px;
            max-width: 75%;
            color: #fff;
            font-size: 0.95rem;
            background: #724ae8;
        }

        .chatbox .incoming p {
            border-radius: 10px 10px 10px 0;
            color: #000;
            background: #f2f2f2;
        }

        .chat-input {
            display: flex;
            gap: 5px;
            position: absolute;
            bottom: 0;
            width: 100%;
            background: #fff;
            padding: 3px 20px;
            border-top: 1px solid #ddd;
        }

        .chat-input textarea {
            height: 55px;
            width: 100%;
            border: none;
            outline: none;
            resize: none;
            max-height: 180px;
            padding: 15px 15px 15px 0;
            font-size: 0.95rem;
        }

        #send-btn {
            align-self: flex-end;
            color: #724ae8;
            cursor: pointer;
            height: 55px;
            display: flex;
            align-items: center;
            visibility: hidden;
            font-size: 1.35rem;
        }

        .chat-input textarea:valid ~ #send-btn {
            visibility: visible;
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background-color: #000;
            color: #fff;
            overflow-x: hidden;
        }

        .space-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: radial-gradient(ellipse at center, #0a0e2a 0%, #000000 70%);
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .star {
            position: absolute;
            background-color: #fff;
            border-radius: 50%;
            animation: twinkle 5s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }

        header {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 20px 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            transition: all 0.5s ease;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .nasa-logo {
            height: 40px;
            width: auto;
            filter: brightness(0) invert(1);
            transition: transform 0.3s ease;
        }

        .nasa-logo:hover {
            transform: scale(1.05);
        }

        .logo-text {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: -0.5px;
            background: linear-gradient(90deg, #6a82fb, #fc5c7d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        nav ul {
            display: flex;
            list-style: none;
            align-items: center;
        }

        nav li {
            margin-left: 30px;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            font-size: 16px;
            transition: color 0.3s;
            position: relative;
        }

        nav a:hover {
            color: #6a82fb;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #6a82fb, #fc5c7d);
            transition: width 0.3s;
        }

        nav a:hover::after {
            width: 100%;
        }

        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 0 20px;
            position: relative;
        }

        .hero h1 {
            font-size: 4.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            letter-spacing: -1.5px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s forwards 0.5s;
        }

        .hero p {
            font-size: 1.5rem;
            font-weight: 300;
            max-width: 600px;
            margin-bottom: 40px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s forwards 0.8s;
        }

        .cta-button {
            padding: 15px 40px;
            background: linear-gradient(90deg, #6a82fb, #fc5c7d);
            border: none;
            border-radius: 30px;
            color: white;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s forwards 1.1s;
        }

        .cta-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(106, 130, 251, 0.3);
        }

        section {
            padding: 100px 50px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .section-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 50px;
            text-align: center;
            letter-spacing: -1px;
        }

        /* Fade animations */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s, transform 0.8s;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        footer {
            text-align: center;
            padding: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Responsive */
        @media (max-width: 768px) {
            header {
                padding: 20px;
            }
            
            .hero h1 {
                font-size: 3rem;
            }
            
            .hero p {
                font-size: 1.2rem;
            }
            
            .about-content {
                grid-template-columns: 1fr;
            }
            
            section {
                padding: 80px 20px;
            }
            
            .section-title {
                font-size: 2.5rem;
            }
            
            .tracking-grid {
                grid-template-columns: 1fr;
            }
            
            .tracking-stats {
                grid-template-columns: 1fr;
            }
            
            .research-grid {
                grid-template-columns: 1fr;
            }
            
            .education-cards {
                grid-template-columns: 1fr;
            }
            
            .meteor-menu {
                left: 20px;
                top: 90px;
            }
            
            .menu-content {
                width: 300px;
            }
            
            .hero-buttons {
                flex-direction: column;
            }
            
            .planet-info-panel {
                width: 90%;
                right: 5%;
            }
            
            .info-panel {
                width: 100%;
                position: absolute;
                bottom: 0;
                left: 0;
                height: 40%;
            }
            
            .model-container {
                height: 60%;
            }
            
            .chatbot {
                right: 0;
                bottom: 0;
                height: 100%;
                border-radius: 0;
                width: 100%;
            }
            .chatbox {
                height: 90%;
                padding: 25px 15px 100px;
            }
        }
    </style>
</head>
<body>
    <div class="space-bg"></div>
    <div class="stars" id="stars"></div>
    
    <!-- === METEOR EXPLORER MENU === -->
    <div class="meteor-menu">
        <div class="menu-toggle" id="menuToggle">
            <div class="hamburger">
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
            </div>
        </div>
        
        <div class="menu-content">
            <h2 class="menu-title">Meteor Explorer</h2>
            
            <div class="meteor-slots">
                <div class="meteor-slot" data-meteor="peekskill">
                    <div class="meteor-image" style="background: linear-gradient(45deg, #8B4513, #CD853F);"></div>
                    <div class="meteor-info">
                        <div class="meteor-name">Peekskill Meteor</div>
                        <div class="meteor-date">October 9, 1992</div>
                    </div>
                </div>
                
                <div class="meteor-slot" data-meteor="carancas">
                    <div class="meteor-image" style="background: linear-gradient(45deg, #2F4F4F, #708090);"></div>
                    <div class="meteor-info">
                        <div class="meteor-name">Carancas Meteor</div>
                        <div class="meteor-date">September 15, 2007</div>
                    </div>
                </div>
                
                <div class="meteor-slot" data-meteor="allende">
                    <div class="meteor-image" style="background: linear-gradient(45deg, #4B0082, #8A2BE2);"></div>
                    <div class="meteor-info">
                        <div class="meteor-name">Allende Meteor</div>
                        <div class="meteor-date">February 8, 1969</div>
                    </div>
                </div>
                
                <div class="meteor-slot" data-meteor="tunguska">
                    <div class="meteor-image" style="background: linear-gradient(45deg, #006400, #32CD32);"></div>
                    <div class="meteor-info">
                        <div class="meteor-name">Tunguska Meteor</div>
                        <div class="meteor-date">June 30, 1908</div>
                    </div>
                </div>
                
                <div class="meteor-slot" data-meteor="chelyabinsk">
                    <div class="meteor-image" style="background: linear-gradient(45deg, #FF4500, #FF6347);"></div>
                    <div class="meteor-info">
                        <div class="meteor-name">Chelyabinsk Meteor</div>
                        <div class="meteor-date">February 15, 2013</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- === 3D SOLAR SYSTEM VIEWER === -->
    <div id="solarSystemViewer">
        <div class="solar-system-header">
            <h2 class="solar-system-title">Solar System Explorer</h2>
            <div>
                <span class="escape-hint">Press ESC to close</span>
                <button class="close-solar-system" id="closeSolarSystem">Close Solar System</button>
            </div>
        </div>
        
        <div class="solar-system-container" id="solarSystemContainer">
            <!-- 3D Solar System will be rendered here -->
        </div>

        <!-- Planet Information Panel -->
        <div class="planet-info-panel" id="planetInfoPanel">
            <div class="planet-info">
                <h3 id="planetName">Planet Name</h3>
                <div class="planet-detail">
                    <span class="planet-detail-label">Type:</span>
                    <span class="planet-detail-value" id="planetType">Terrestrial</span>
                </div>
                <div class="planet-detail">
                    <span class="planet-detail-label">Diameter:</span>
                    <span class="planet-detail-value" id="planetDiameter">12,742 km</span>
                </div>
                <div class="planet-detail">
                    <span class="planet-detail-label">Distance from Sun:</span>
                    <span class="planet-detail-value" id="planetDistance">149.6 million km</span>
                </div>
                <div class="planet-detail">
                    <span class="planet-detail-label">Orbital Period:</span>
                    <span class="planet-detail-value" id="planetOrbit">365.25 days</span>
                </div>
                <div class="planet-detail">
                    <span class="planet-detail-label">Moons:</span>
                    <span class="planet-detail-value" id="planetMoons">1</span>
                </div>
                <div class="planet-detail">
                    <span class="planet-detail-label">Fun Fact:</span>
                    <span class="planet-detail-value" id="planetFact">The only known planet with life</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- === 3D METEOR VIEWER === -->
    <div id="meteorViewer">
        <div class="viewer-header">
            <h2 class="viewer-title" id="viewerMeteorName">Meteor Name</h2>
            <div>
                <span class="escape-hint">Press ESC to close</span>
                <button class="close-viewer" id="closeViewer">Close Viewer</button>
            </div>
        </div>
        
        <div class="viewer-content">
            <div class="model-container" id="modelContainer">
                <!-- 3D model will be rendered here -->
            </div>
            
            <div class="info-panel">
                <div class="meteor-details">
                    <h3>Meteor Details</h3>
                    
                    <div class="detail-row">
                        <span class="detail-label">Date of Impact:</span>
                        <span class="detail-value" id="detailDate">Unknown</span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">Mass:</span>
                        <span class="detail-value" id="detailMass">Unknown</span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">Size:</span>
                        <span class="detail-value" id="detailSize">Unknown</span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">Velocity:</span>
                        <span class="detail-value" id="detailVelocity">Unknown</span>
                    </div>
                    
                    <div class="detail-row">
                        <span class="detail-label">Composition:</span>
                        <span class="detail-value" id="detailComposition">Unknown</span>
                    </div>
                    
                    <div class="impact-map">
                        <h3 class="map-title">Impact Prediction</h3>
                        <div class="map-container" id="impactMap">
                            <div class="impact-point" id="impactPoint"></div>
                        </div>
                        <div class="impact-info">
                            <div class="detail-row">
                                <span class="detail-label">Predicted Impact:</span>
                                <span class="detail-value" id="predictedDate">Unknown</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Location:</span>
                                <span class="detail-value" id="predictedLocation">Unknown</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Risk Level:</span>
                                <span class="detail-value" id="riskLevel">Unknown</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- === CHATBOT === -->
    <button class="chatbot-toggler">
        <span>💬</span>
    </button>
    <div class="chatbot">
        <header>
            <h2>Cosmic Assistant</h2>
            <span class="close-btn">✕</span>
        </header>
        <ul class="chatbox">
            <li class="chat incoming">
                <span>🤖</span>
                <p>Hello! I'm your cosmic assistant. How can I help you explore the universe today?</p>
            </li>
        </ul>
        <div class="chat-input">
            <textarea placeholder="Enter a message..." spellcheck="false" required></textarea>
            <span id="send-btn">➤</span>
        </div>
    </div>
    
    <header>
        <div class="logo-container">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/NASA_logo.svg/1200px-NASA_logo.svg.png" alt="NASA Logo" class="nasa-logo">
            <div class="logo-text">INTERGALACTIC MEOWS</div>
        </div>
        <nav>
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#tracking">Tracking</a></li>
                <li><a href="#signup">Sign Up</a></li>
                <li><a href="#research">Research</a></li>
                <li><a href="#test">Test</a></li>
                <li><a href="#education">Education</a></li>
            </ul>
        </nav>
    </header>

    <!-- === MAIN CONTENT SECTIONS === -->
    <section id="home" class="hero">
        <h1>Explore Cosmic Meteors</h1>
        <p>Discover the fascinating history and science behind Earth's most significant meteor impacts. Journey through space and time with our interactive meteor explorer.</p>
        <div class="hero-buttons">
            <button class="cta-button" id="exploreButton">Begin Meteor Exploration</button>
            <button class="solar-system-btn" id="solarSystemButton">Explore Solar System</button>
        </div>
    </section>
    
    <section id="about">
        <h2 class="section-title fade-in">About Meteor Research</h2>
        <div class="about-content">
            <div class="about-text fade-in">
                <p>Meteors provide invaluable insights into the formation of our solar system. Each meteorite carries chemical signatures that tell stories billions of years old, from the birth of planets to the delivery of water and organic compounds to Earth.</p>
                <br>
                <p>Our research team analyzes meteor composition, trajectory data, and impact effects to better understand these cosmic visitors and improve planetary defense systems against potential future impacts.</p>
                <br>
                <p>Through advanced 3D modeling and impact prediction algorithms, we're working to map the paths of near-Earth objects and assess potential risks to our planet.</p>
            </div>
            <div class="planet-container fade-in">
                <div class="planet"></div>
            </div>
        </div>
        
        <!-- NASA Partnership Section -->
        <div class="nasa-partnership fade-in">
            <h3>In Partnership with NASA</h3>
            <p>We collaborate with NASA's Planetary Defense Coordination Office to track near-Earth objects and study meteor impacts. Our partnership ensures access to the latest orbital data and impact prediction models.</p>
            <div class="nasa-badge">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/NASA_logo.svg/1200px-NASA_logo.svg.png" alt="NASA Logo">
                <p>NASA Planetary Defense Partner</p>
            </div>
        </div>
    </section>

    <!-- === METEOR TRACKING SECTION === -->
    <section id="tracking">
        <h2 class="section-title fade-in">Live Meteor Tracking</h2>
        <div class="tracking-section fade-in">
            <div class="tracking-grid">
                <div class="tracking-map">
                    🛰️ Live Meteor Tracking Map
                </div>
                <div class="tracking-info">
                    <h3 style="color: #6a82fb; margin-bottom: 30px;">Real-Time Meteor Data</h3>
                    <div class="tracking-stats">
                        <div class="tracking-stat">
                            <div class="stat-number" id="activeMeteors">247</div>
                            <div class="stat-label">Active Meteors Tracked</div>
                        </div>
                        <div class="tracking-stat">
                            <div class="stat-number" id="nearEarth">12</div>
                            <div class="stat-label">Near-Earth Objects</div>
                        </div>
                        <div class="tracking-stat">
                            <div class="stat-number" id="impactsToday">3</div>
                            <div class="stat-label">Impacts Today</div>
                        </div>
                        <div class="tracking-stat">
                            <div class="stat-number" id="showersActive">2</div>
                            <div class="stat-label">Active Meteor Showers</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 40px;">
                        <h4 style="color: #fc5c7d; margin-bottom: 15px;">Upcoming Meteor Events</h4>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 10px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>Perseid Meteor Shower</span>
                                <span style="color: #6a82fb;">Aug 12-13</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Orionid Meteor Shower</span>
                                <span style="color: #6a82fb;">Oct 20-21</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section id="signup">
        <h2 class="section-title fade-in">Join Our Meteor Alert Network</h2>
        <div class="signup-form fade-in">
            <div class="form-group">
                <label for="name">Full Name</label>
                <input type="text" id="name" placeholder="Enter your full name">
            </div>
            <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" placeholder="Enter your email">
            </div>
            <div class="form-group">
                <label for="interest">Primary Interest</label>
                <select id="interest">
                    <option value="">Select your interest</option>
                    <option value="meteor-observation">Meteor Observation</option>
                    <option value="impact-research">Impact Research</option>
                    <option value="planetary-defense">Planetary Defense</option>
                    <option value="space-education">Space Education</option>
                </select>
            </div>
            <button class="submit-btn">Join the Network</button>
        </div>
    </section>

    <!-- === RESEARCH & DISCOVERY SECTION === -->
    <section id="research">
        <h2 class="section-title fade-in">Research & Discoveries</h2>
        <div class="research-section fade-in">
            <div class="research-grid">
                <div class="research-card">
                    <div class="research-icon">🔬</div>
                    <h3 style="color: #6a82fb; margin-bottom: 15px;">Laboratory Analysis</h3>
                    <p>Advanced spectroscopy and chemical analysis of meteorite samples reveal the building blocks of our solar system.</p>
                </div>
                <div class="research-card">
                    <div class="research-icon">🛰️</div>
                    <h3 style="color: #6a82fb; margin-bottom: 15px;">Orbital Dynamics</h3>
                    <p>Studying meteor trajectories helps us understand orbital mechanics and predict future impact risks.</p>
                </div>
                <div class="research-card">
                    <div class="research-icon">🌌</div>
                    <h3 style="color: #6a82fb; margin-bottom: 15px;">Cosmic Origins</h3>
                    <p>Tracing meteor composition back to their parent bodies reveals the history of our cosmic neighborhood.</p>
                </div>
                <div class="research-card">
                    <div class="research-icon">🛡️</div>
                    <h3 style="color: #6a82fb; margin-bottom: 15px;">Planetary Defense</h3>
                    <p>Developing early warning systems and deflection strategies to protect Earth from potential impacts.</p>
                </div>
            </div>
            
            <div style="margin-top: 50px; text-align: center;">
                <h3 style="color: #fc5c7d; margin-bottom: 30px;">Latest Research Papers</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 10px;">
                        <h4 style="color: #6a82fb;">Meteorite Composition Analysis</h4>
                        <p style="font-size: 0.9rem; opacity: 0.8; margin: 10px 0;">Published: March 2024</p>
                        <button class="download-btn">Download PDF</button>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 10px;">
                        <h4 style="color: #6a82fb;">Impact Prediction Models</h4>
                        <p style="font-size: 0.9rem; opacity: 0.8; margin: 10px 0;">Published: February 2024</p>
                        <button class="download-btn">Download PDF</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- === TEST SECTION === -->
    <section id="test">
        <h2 class="section-title fade-in">Test Alert System</h2>
        <div class="test-section fade-in">
            <p>Test the meteor alert system with different types of notifications. This helps you understand how the system works and what to expect during real meteor events.</p>
            
            <div class="test-buttons">
                <button class="test-btn" id="testAlertBtn">Test Alert Notification</button>
                <button class="test-btn" id="testSuccessBtn">Test Success Notification</button>
                <button class="test-btn" id="testInfoBtn">Test Info Notification</button>
            </div>
        </div>
    </section>

    <!-- === EDUCATIONAL RESOURCES SECTION === -->
    <section id="education">
        <h2 class="section-title fade-in">Educational Resources</h2>
        <div class="education-section fade-in">
            <div class="education-cards">
                <div class="education-card">
                    <div class="edu-icon">📚</div>
                    <h3 style="color: #6a82fb; margin-bottom: 15px;">Learning Materials</h3>
                    <p>Comprehensive guides and textbooks about meteor science and astronomy.</p>
                    <button class="download-btn">Explore Resources</button>
                </div>
                <div class="education-card">
                    <div class="edu-icon">🎓</div>
                    <h3 style="color: #6a82fb; margin-bottom: 15px;">For Educators</h3>
                    <p>Lesson plans, activities, and classroom resources for teachers.</p>
                    <button class="download-btn">Teacher Resources</button>
                </div>
                <div class="education-card">
                    <div class="edu-icon">🔭</div>
                    <h3 style="color: #6a82fb; margin-bottom: 15px;">Observation Guides</h3>
                    <p>Learn how to observe and photograph meteors and meteor showers.</p>
                    <button class="download-btn">View Guides</button>
                </div>
                <div class="education-card">
                    <div class="edu-icon">🌟</div>
                    <h3 style="color: #6a82fb; margin-bottom: 15px;">Interactive Tools</h3>
                    <p>Virtual simulations and interactive learning experiences.</p>
                    <button class="download-btn">Try Tools</button>
                </div>
            </div>
            
            <div style="margin-top: 50px; text-align: center;">
                <h3 style="color: #fc5c7d; margin-bottom: 30px;">Upcoming Educational Events</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 10px;">
                        <h4 style="color: #6a82fb;">Meteor Watching Workshop</h4>
                        <p style="font-size: 0.9rem; opacity: 0.8;">August 15, 2024</p>
                        <button class="download-btn" style="margin-top: 10px;">Register</button>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 10px;">
                        <h4 style="color: #6a82fb;">Space Science Webinar</h4>
                        <p style="font-size: 0.9rem; opacity: 0.8;">September 5, 2024</p>
                        <button class="download-btn" style="margin-top: 10px;">Register</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <footer>
        <p>&copy; 2025 Intergalactic Meows Research. Inspired by Apple.com.</p>
        <div style="margin-top: 20px;">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/NASA_logo.svg/200px-NASA_logo.svg.png" alt="NASA Logo" style="height: 40px; filter: brightness(0) invert(1);">
        </div>
    </footer>

    <script>
        // === ALL JAVASCRIPT CODE FROM PREVIOUS IMPLEMENTATION ===
        // (Solar System, Meteor Viewer, Event Listeners, etc.)
        
        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            createStars();
            initEventListeners();
            initScrollAnimations();
        });

        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starCount = 200;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const size = Math.random() * 3;
                const delay = Math.random() * 5;
                
                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.animationDelay = `${delay}s`;
                
                starsContainer.appendChild(star);
            }
        }

        // Chatbot functionality
        const chatbotToggler = document.querySelector(".chatbot-toggler");
        const closeBtn = document.querySelector(".close-btn");
        const chatInput = document.querySelector(".chat-input textarea");
        const sendChatBtn = document.querySelector("#send-btn");
        const chatbox = document.querySelector(".chatbox");

        let userMessage = null;

        const createChatLi = (message, className) => {
            const chatLi = document.createElement("li");
            chatLi.classList.add("chat", className);
            let chatContent = className === "outgoing" ? `<p></p>` : `<span>🤖</span><p></p>`;
            chatLi.innerHTML = chatContent;
            chatLi.querySelector("p").textContent = message;
            return chatLi;
        }

        const generateResponse = (chatElement) => {
            const messageElement = chatElement.querySelector("p");
            
            // Simple chatbot responses
            const responses = {
                "hello": "Hello there! Ready to explore the cosmos and meteores ? 🌌",
                "hi": "Hi! I'm your cosmic assistant. Ask me about space!",
                "planet": "Our solar system has 8 planets: Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, and Neptune!",
                "asteroid": "Asteroids are rocky objects orbiting the Sun, mostly found in the asteroid belt between Mars and Jupiter.",
                "meteor": "Meteors are space rocks that burn up in Earth's atmosphere - we call them shooting stars!",
                "solar system": "Our solar system formed 4.6 billion years ago from a giant cloud of gas and dust.",
                "default": "That's fascinating! The universe is full of wonders. Want to know about planets, asteroids, or meteors?"
            };

            const userText = userMessage.toLowerCase();
            let response = responses.default;

            for (const [key, value] of Object.entries(responses)) {
                if (userText.includes(key)) {
                    response = value;
                    break;
                }
            }

            messageElement.textContent = response;
            chatbox.scrollTo(0, chatbox.scrollHeight);
        }

        const handleChat = () => {
            userMessage = chatInput.value.trim();
            if (!userMessage) return;

            chatInput.value = "";
            chatbox.appendChild(createChatLi(userMessage, "outgoing"));
            chatbox.scrollTo(0, chatbox.scrollHeight);

            setTimeout(() => {
                const incomingChatLi = createChatLi("Thinking...", "incoming");
                chatbox.appendChild(incomingChatLi);
                chatbox.scrollTo(0, chatbox.scrollHeight);
                generateResponse(incomingChatLi);
            }, 600);
        }

        // Toggle chatbot
        const toggleChatbot = () => {
            document.body.classList.toggle("show-chatbot");
        }

        // 3D Viewer functions
        let scene, camera, renderer, object;

        function init3DViewer(type) {
            const container = document.getElementById('solarSystemContainer');
            container.innerHTML = '';

            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ antialias: true });
            
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);

            // Add lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(5, 5, 5);
            scene.add(directionalLight);

            // Create Sun
            const sunGeometry = new THREE.SphereGeometry(2, 32, 32);
            const sunMaterial = new THREE.MeshBasicMaterial({ 
                color: 0xffff00,
                emissive: 0xffff00,
                emissiveIntensity: 0.5
            });
            const sun = new THREE.Mesh(sunGeometry, sunMaterial);
            scene.add(sun);

            // Create planets
            const planets = [
                { name: "Mercury", radius: 0.4, color: 0x888888, distance: 4 },
                { name: "Venus", radius: 0.6, color: 0xffa500, distance: 6 },
                { name: "Earth", radius: 0.6, color: 0x1e90ff, distance: 8 },
                { name: "Mars", radius: 0.5, color: 0xff4500, distance: 10 },
                { name: "Jupiter", radius: 1.2, color: 0xffd700, distance: 14 },
                { name: "Saturn", radius: 1.0, color: 0xf0e68c, distance: 18 },
                { name: "Uranus", radius: 0.8, color: 0x87ceeb, distance: 22 },
                { name: "Neptune", radius: 0.8, color: 0x4169e1, distance: 26 }
            ];

            const planetMeshes = [];
            
            planets.forEach((planet, index) => {
                const geometry = new THREE.SphereGeometry(planet.radius, 32, 32);
                const material = new THREE.MeshStandardMaterial({ color: planet.color });
                const planetMesh = new THREE.Mesh(geometry, material);
                
                // Position planet in orbit
                const angle = (index / planets.length) * Math.PI * 2;
                planetMesh.position.x = Math.cos(angle) * planet.distance;
                planetMesh.position.z = Math.sin(angle) * planet.distance;
                
                scene.add(planetMesh);
                planetMeshes.push({
                    mesh: planetMesh,
                    distance: planet.distance,
                    speed: 0.01 + (Math.random() * 0.02),
                    name: planet.name
                });
            });

            // Create asteroid belt
            const asteroidGroup = new THREE.Group();
            for (let i = 0; i < 100; i++) {
                const geometry = new THREE.SphereGeometry(0.1 + Math.random() * 0.2, 8, 8);
                const material = new THREE.MeshStandardMaterial({ color: 0x888888 });
                const asteroid = new THREE.Mesh(geometry, material);
                
                const distance = 12 + Math.random() * 2;
                const angle = Math.random() * Math.PI * 2;
                asteroid.position.x = Math.cos(angle) * distance;
                asteroid.position.z = Math.sin(angle) * distance;
                asteroid.position.y = (Math.random() - 0.5) * 0.5;
                
                asteroidGroup.add(asteroid);
            }
            scene.add(asteroidGroup);

            camera.position.z = 30;

            // Add orbit controls
            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.25;

            function animate() {
                requestAnimationFrame(animate);
                
                // Rotate planets
                planetMeshes.forEach(planet => {
                    planet.mesh.position.x = Math.cos(planet.mesh.userData.angle || 0) * planet.distance;
                    planet.mesh.position.z = Math.sin(planet.mesh.userData.angle || 0) * planet.distance;
                    planet.mesh.userData.angle = (planet.mesh.userData.angle || 0) + planet.speed;
                });
                
                // Rotate asteroid belt
                asteroidGroup.rotation.y += 0.002;
                
                controls.update();
                renderer.render(scene, camera);
            }

            animate();

            // Handle window resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }

        function openSolarSystem() {
            document.getElementById('solarSystemViewer').classList.add('active');
            init3DViewer('solar');
        }

        function closeSolarSystem() {
            document.getElementById('solarSystemViewer').classList.remove('active');
        }

        function openMeteorViewer(meteorId) {
            document.getElementById('meteorViewer').classList.add('active');
            
            // Set meteor details based on ID
            const meteorData = {
                'peekskill': {
                    name: 'Peekskill Meteor',
                    date: 'October 9, 1992',
                    mass: '12.4 kg',
                    size: '25 cm',
                    velocity: '14.7 km/s',
                    composition: 'Ordinary Chondrite (H6)',
                    predictedDate: 'N/A (Historical)',
                    location: 'Peekskill, New York, USA',
                    risk: 'None'
                },
                'carancas': {
                    name: 'Carancas Meteor',
                    date: 'September 15, 2007',
                    mass: '0.6 kg',
                    size: '30 cm',
                    velocity: '12 km/s',
                    composition: 'Ordinary Chondrite',
                    predictedDate: 'N/A (Historical)',
                    location: 'Carancas, Peru',
                    risk: 'None'
                },
                'allende': {
                    name: 'Allende Meteor',
                    date: 'February 8, 1969',
                    mass: '2 tons',
                    size: '3 meters',
                    velocity: '16 km/s',
                    composition: 'Carbonaceous Chondrite (CV3)',
                    predictedDate: 'N/A (Historical)',
                    location: 'Allende, Mexico',
                    risk: 'None'
                },
                'tunguska': {
                    name: 'Tunguska Meteor',
                    date: 'June 30, 1908',
                    mass: '100,000 tons',
                    size: '60-190 meters',
                    velocity: '27 km/s',
                    composition: 'Stony Asteroid',
                    predictedDate: 'N/A (Historical)',
                    location: 'Tunguska, Russia',
                    risk: 'None'
                },
                'chelyabinsk': {
                    name: 'Chelyabinsk Meteor',
                    date: 'February 15, 2013',
                    mass: '12,000 tons',
                    size: '20 meters',
                    velocity: '19 km/s',
                    composition: 'Ordinary Chondrite (LL5)',
                    predictedDate: 'N/A (Historical)',
                    location: 'Chelyabinsk, Russia',
                    risk: 'None'
                }
            };
            
            const data = meteorData[meteorId] || meteorData['chelyabinsk'];
            
            document.getElementById('viewerMeteorName').textContent = data.name;
            document.getElementById('detailDate').textContent = data.date;
            document.getElementById('detailMass').textContent = data.mass;
            document.getElementById('detailSize').textContent = data.size;
            document.getElementById('detailVelocity').textContent = data.velocity;
            document.getElementById('detailComposition').textContent = data.composition;
            document.getElementById('predictedDate').textContent = data.predictedDate;
            document.getElementById('predictedLocation').textContent = data.location;
            document.getElementById('riskLevel').textContent = data.risk;
            
            // Position impact point randomly on map
            const impactPoint = document.getElementById('impactPoint');
            impactPoint.style.left = `${30 + Math.random() * 40}%`;
            impactPoint.style.top = `${30 + Math.random() * 40}%`;
            
            // Initialize 3D meteor model
            initMeteorModel(meteorId);
        }

        function initMeteorModel(meteorId) {
            const container = document.getElementById('modelContainer');
            container.innerHTML = '';

            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ antialias: true });
            
            renderer.setSize(container.clientWidth, container.clientHeight);
            container.appendChild(renderer.domElement);

            // Add lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(5, 5, 5);
            scene.add(directionalLight);

            // Create meteor based on type
            let geometry, material;
            
            if (meteorId === 'tunguska' || meteorId === 'chelyabinsk') {
                // Large meteors
                geometry = new THREE.SphereGeometry(1.5, 8, 8);
                material = new THREE.MeshStandardMaterial({ 
                    color: 0x8B4513,
                    roughness: 0.8,
                    metalness: 0.2
                });
            } else {
                // Smaller meteors
                geometry = new THREE.SphereGeometry(1, 12, 12);
                material = new THREE.MeshStandardMaterial({ 
                    color: 0x696969,
                    roughness: 0.7,
                    metalness: 0.3
                });
            }

            object = new THREE.Mesh(geometry, material);
            scene.add(object);

            camera.position.z = 5;

            // Add orbit controls
            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.25;

            function animate() {
                requestAnimationFrame(animate);
                object.rotation.x += 0.01;
                object.rotation.y += 0.01;
                controls.update();
                renderer.render(scene, camera);
            }

            animate();

            // Handle window resize
            window.addEventListener('resize', () => {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            });
        }

        function closeMeteorViewer() {
            document.getElementById('meteorViewer').classList.remove('active');
        }

        function initEventListeners() {
            // Smooth scrolling for navigation
            document.querySelectorAll('nav a').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                });
            });

            // Meteor menu toggle
            document.getElementById('menuToggle').addEventListener('click', function() {
                this.classList.toggle('active');
            });

            // Meteor slot click handlers
            document.querySelectorAll('.meteor-slot').forEach(slot => {
                slot.addEventListener('click', function() {
                    const meteorId = this.getAttribute('data-meteor');
                    openMeteorViewer(meteorId);
                });
            });

            // Solar system button
            document.getElementById('solarSystemButton').addEventListener('click', openSolarSystem);
            document.getElementById('closeSolarSystem').addEventListener('click', closeSolarSystem);

            // Meteor viewer close
            document.getElementById('closeViewer').addEventListener('click', closeMeteorViewer);

            // Explore button opens meteor menu
            document.getElementById('exploreButton').addEventListener('click', function() {
                document.getElementById('menuToggle').classList.add('active');
            });

            // ESC key functionality
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeMeteorViewer();
                    closeSolarSystem();
                    document.getElementById('menuToggle').classList.remove('active');
                    document.body.classList.remove('show-chatbot');
                }
            });

            // Test buttons
            document.getElementById('testAlertBtn').addEventListener('click', function() {
                showNotification('Test Alert: Meteor activity detected!', 'error');
            });
            document.getElementById('testSuccessBtn').addEventListener('click', function() {
                showNotification('Test Success: System is working properly!', 'success');
            });
            document.getElementById('testInfoBtn').addEventListener('click', function() {
                showNotification('Test Info: Regular space weather update', 'info');
            });

            // Chatbot event listeners
            chatInput.addEventListener("keypress", (e) => {
                if (e.key === "Enter" && !e.shiftKey) {
                    e.preventDefault();
                    handleChat();
                }
            });

            sendChatBtn.addEventListener("click", handleChat);
            closeBtn.addEventListener("click", toggleChatbot);
            chatbotToggler.addEventListener("click", toggleChatbot);
        }

        function initScrollAnimations() {
            window.addEventListener('scroll', checkFade);
            checkFade();
        }

        function checkFade() {
            const fadeElements = document.querySelectorAll('.fade-in');
            fadeElements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const elementVisible = 150;
                if (elementTop < window.innerHeight - elementVisible) {
                    element.classList.add('visible');
                }
            });
        }

        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.position = 'fixed';
            notification.style.top = '100px';
            notification.style.right = '20px';
            notification.style.padding = '15px 20px';
            notification.style.borderRadius = '8px';
            notification.style.zIndex = '1001';
            notification.style.fontWeight = '500';
            
            if (type === 'success') {
                notification.style.background = 'linear-gradient(90deg, #4CAF50, #45a049)';
            } else if (type === 'error') {
                notification.style.background = 'linear-gradient(90deg, #f44336, #d32f2f)';
            } else {
                notification.style.background = 'linear-gradient(90deg, #2196F3, #1976D2)';
            }
            
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }
    </script>
</body>
</html>